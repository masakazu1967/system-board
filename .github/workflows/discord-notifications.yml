name: Discord Notifications

on:
  issues:
    types: [opened, closed, reopened]
  issue_comment:
    types: [created]
  pull_request:
    types: [opened, closed, reopened, review_requested]
  pull_request_review:
    types: [submitted]

jobs:
  discord-notification:
    runs-on: ubuntu-latest
    steps:
      - name: Issue Opened Notification
        if: github.event_name == 'issues' && github.event.action == 'opened'
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
        with:
          args: |
            ğŸš¨ **æ–°ã—ã„IssueãŒä½œæˆã•ã‚Œã¾ã—ãŸ**
            **ã‚¿ã‚¤ãƒˆãƒ«:** ${{ github.event.issue.title }}
            **ä½œæˆè€…:** ${{ github.event.issue.user.login }}
            **ãƒªãƒ³ã‚¯:** ${{ github.event.issue.html_url }}

      - name: Issue Comment with Mention Notification
        if: |
          github.event_name == 'issue_comment' && 
          github.event.action == 'created' && 
          contains(github.event.comment.body, '@masakazu1967')
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
        with:
          args: |
            ğŸ“¢ **@masakazu1967 å®›ã®Issueã‚³ãƒ¡ãƒ³ãƒˆ**
            **Issue:** ${{ github.event.issue.title }}
            **ã‚³ãƒ¡ãƒ³ãƒˆè€…:** ${{ github.event.comment.user.login }}
            **å†…å®¹:** ${{ github.event.comment.body }}
            **ãƒªãƒ³ã‚¯:** ${{ github.event.comment.html_url }}

      - name: PR Review Request Notification
        if: |
          github.event_name == 'pull_request' && 
          github.event.action == 'review_requested' &&
          contains(github.event.pull_request.requested_reviewers.*.login, 'masakazu1967')
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
        with:
          args: |
            ğŸ” **PRãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼**
            **PR:** ${{ github.event.pull_request.title }}
            **ä½œæˆè€…:** ${{ github.event.pull_request.user.login }}
            **ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼:** @masakazu1967
            **ãƒªãƒ³ã‚¯:** ${{ github.event.pull_request.html_url }}

      - name: PR Opened Notification
        if: github.event_name == 'pull_request' && github.event.action == 'opened'
        uses: Ilshidur/action-discord@master
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
        with:
          args: |
            âœ¨ **æ–°ã—ã„PRãŒä½œæˆã•ã‚Œã¾ã—ãŸ**
            **ã‚¿ã‚¤ãƒˆãƒ«:** ${{ github.event.pull_request.title }}
            **ä½œæˆè€…:** ${{ github.event.pull_request.user.login }}
            **ãƒªãƒ³ã‚¯:** ${{ github.event.pull_request.html_url }}
